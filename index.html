<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" a href="./index.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR&amp;display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Gothic+A1&amp;family=Jua&amp;display=swap" rel="stylesheet">
    <link rel="icon" href="./assets/travel_icon.png">
    <meta name="description" content="ì—¬í–‰ì„ ê°€ê³ ì‹¶ì„ë•Œ ì—¬í–‰ì§€ ë¥¼ ê²€ìƒ‰í• ìˆ˜ ìˆëŠ” ì‚¬ì´íŠ¸ ì…ë‹ˆë‹¤">
    <title>ì—¬í–‰_ì–´ë””ë¡œê°€ì§€?</title>
</head>
<body>
<div class="header">
    <span class="name"><img src="./assets/travel_icon.png">ì—¬í–‰_ì–´ë””ë¡œê°€ì§€?</span>
    <ul class="main_header">
        <li><b><a href ="./index.html">ì†Œê°œ</a></b></li>
        <li><b><a href="./toursearch.html">ì—¬í–‰ì§€ê²€ìƒ‰</a></b></li>
        <li><b><a href="./staysearch.html">ìˆ™ë°•</a></b></li>
    </ul>
</div>
<article class="main_page">
    <div class="intro_img"></div>
    <div class="intro_img"></div>
    <div class="intro_img"></div>
    <div class="recommend_box">
        <h2>ì—¬í–‰ ë– ë‚˜ê³  ì‹¶ìœ¼ì„¸ìš”?<br>ì›í•˜ëŠ” ì—¬í–‰ì§€ë¥¼ ê²€ìƒ‰í•˜ê³  ì¤€ë¹„í•´ë³´ì„¸ìš”!</h2>
        <span class="recommend_place">
            <img>
            <span class="recommend_topic">
                <h4>ì¶”ì²œì—¬í–‰ì§€</h4>
                <h3></h3>
            </span>
        </span>
        <span class="recommend_place">
            <img>
            <span class="recommend_topic">
                <h4>ì¶”ì²œì—¬í–‰ì§€</h4>
                <h3></h3>
            </span>
        </span>
        <span class="recommend_place">
            <img>
            <span class="recommend_topic">
                <h4>ì¶”ì²œì—¬í–‰ì§€</h4>
                <h3></h3>
            </span>
        </span>
    </div>
    <span class="intro_ex">
        <h1>SMILE_TRIP</h1>
        <h3>ì—¬í–‰ ë– ë‚˜ê³  ì‹¶ìœ¼ì‹ ê°€ìš”?</h3>
        <h3>ê°€ê³ ì‹¶ì€ ì—¬í–‰ì§€ë¥¼ ê²€ìƒ‰í•˜ê³  ì—¬í–‰ì„ ì¤€ë¹„í•´ë³´ì„¸ìš”!</h3>
        <span class="direct_btn">ì—¬í–‰ì§€ì°¾ê¸°</span>
    </span>
</article> 
<article class="second_page">
    <h1>ğŸš‚<b>ë°©êµ¬ì„ì—ì„œ ì°¾ì•„ë³´ëŠ” ì „êµ­  ê³³ê³³ì˜ ì—¬í–‰ì§€</b></h1>
    <div class="topic_box">
        <div class="topic_name">
            <a href="./toursearch.html">
                <span></span>
                <div>
                    <h2>íœ´ì–‘ì§€</h2>
                    <h3>í¸ì•ˆíˆ ì‰¬ë©´ì„œ ëª¸ê³¼ ë§ˆìŒì„ ì¬ì¶©ì „!</h3>
                    <b>&#8594;</b>
                </div>
            </a>
        </div>
        <div  class="topic_name">
            <a href="./toursearch.html">
                <span></span>
                <div>
                    <h2>ë ˆí¬ì¸ </h2>
                    <h3>ì§œë¦¿í•˜ê³  ê¸°ë¶„ì¢‹ì€ ê²½í—˜!</h3>
                    <b>&#8594;</b>
                </div>
            </a>
        </div >
        <div class="topic_name">
            <a href="./staysearch.html">
                <span></span>
                <div>
                    <h2>ìˆ™ë°•</h2>
                    <h3>ì§€ì¹œëª¸ì„ ë‹¬ë˜ê³  ë§ê¸¸ ìˆ˜ ìˆëŠ”ê³³!</h3>
                    <b>&#8594;</b>
                </div>
            </a>
        </div>
    </div>
</article>
<article class="stay_recommend_page"></article>
<article class="recommend_page">
    <h1>ğŸš…<b>ì¶”ì²œ ì—¬í–‰ì§€</b></h1>
    <div class="recommend_travel_box">
        <img>
        <span class="recommend_travel_intro">
            <h2>ì œëª©</h2>
            <h3 style="font-weight: 100;"></h3>
            <p></p>
        </span>
    </div>
</article>

<footer>
    <p>í™ˆí˜ì´ì§€ ì œì‘ì : ì´ë™ì˜<br>
    E-MAIL : ekzmgjalt55@gmail.com<br>
    ë³¸ ì‚¬ì´íŠ¸ëŠ” í•œêµ­ê´€ê´‘ê³µì‚¬ì˜ ê³µê³µë°ì´í„°ë¥¼ ì´ìš©í•´ ì œì‘ë˜ì—ˆìŠµë‹ˆë‹¤.</p>
</footer>
<script>
    function recommendapi(){
    var areacode = [0,1,2,3,4,5,6,7,8,31,32,33,34,35,36,37,38,39];
    var number = Math.floor(Math.random() * 17 + 1);
    var contentscode = 12;
    var xhr = new XMLHttpRequest();
    var url = 'http://api.visitkorea.or.kr/openapi/service/rest/KorService/areaBasedList'; /*URL*/
    var queryParams = '?' + encodeURIComponent('serviceKey') + '='+'yX8wx5nzKb42wtBThegyX7gb6G3xUCPCMfbzNYF1Gf0p0nSUn9ZeynPzokq9GNLvrFLmqQVbU9%2FQz9LckJpQLw%3D%3D'; /*Service Key*/
    queryParams += '&' + encodeURIComponent('numOfRows') + '=' + encodeURIComponent('4'); /**/
    queryParams += '&' + encodeURIComponent('pageNo') + '=' + encodeURIComponent('1');
    queryParams += '&' + encodeURIComponent('arrange') + '=' + encodeURIComponent('P'); /**/
    queryParams += '&' + encodeURIComponent('MobileOS') + '=' + encodeURIComponent('ETC'); /**/
    queryParams += '&' + encodeURIComponent('MobileApp') + '=' + encodeURIComponent('AppTest'); /**/
    queryParams += '&' + encodeURIComponent('areaCode') + '=' + encodeURIComponent(areacode[number]);
    queryParams += '&' + encodeURIComponent('contentTypeId') + '=' + encodeURIComponent(contentscode); /**/
    xhr.open('GET', url + queryParams);
    xhr.onreadystatechange = function () {
        if (this.readyState == 4) {
            var xml = this.responseXML;
            var names = xml.getElementsByTagName('title');
            var image = xml.getElementsByTagName('firstimage');
            var content = xml.getElementsByTagName('contentid');
            var contentid = content[3].innerHTML;
            for(var i = 0; i<3; i++){
                var num = i;
                document.querySelectorAll('.recommend_place img')[num].setAttribute('src',image[num].innerHTML);
                document.querySelectorAll('.recommend_topic h3')[num].innerHTML = names[num].innerHTML;
            }
            contentapi(contentid);
        }
    };

    xhr.send('');
}
recommendapi();

function contentapi(a){
    var xhr = new XMLHttpRequest();
    var url = 'http://api.visitkorea.or.kr/openapi/service/rest/KorService/detailCommon'; /*URL*/
    var queryParams = '?' + encodeURIComponent('serviceKey') + '='+'yX8wx5nzKb42wtBThegyX7gb6G3xUCPCMfbzNYF1Gf0p0nSUn9ZeynPzokq9GNLvrFLmqQVbU9%2FQz9LckJpQLw%3D%3D'; /*Service Key*/
    queryParams += '&' + encodeURIComponent('numOfRows') + '=' + encodeURIComponent('1'); /**/
    queryParams += '&' + encodeURIComponent('pageNo') + '=' + encodeURIComponent('1'); /**/
    queryParams += '&' + encodeURIComponent('MobileOS') + '=' + encodeURIComponent('ETC'); /**/
    queryParams += '&' + encodeURIComponent('MobileApp') + '=' + encodeURIComponent('AppTest');
    queryParams += '&' + encodeURIComponent('firstImageYN') + '=' + encodeURIComponent('Y');
    queryParams += '&' + encodeURIComponent('defaultYN') + '=' + encodeURIComponent('Y');
    queryParams += '&' + encodeURIComponent('addrinfoYN') + '=' + encodeURIComponent('Y');
    queryParams += '&' + encodeURIComponent('overviewYN') + '=' + encodeURIComponent('Y'); /**/
    queryParams += '&' + encodeURIComponent('contentId') + '=' + encodeURIComponent(a); /**/
    xhr.open('GET', url + queryParams);
    xhr.onreadystatechange = function () {
        if (this.readyState == 4) {
            var xml = this.responseXML;
            var title = xml.getElementsByTagName('title');
            var view = xml.getElementsByTagName('overview');
            var image = xml.getElementsByTagName('firstimage');
            var addr = xml.getElementsByTagName('addr1');
            document.querySelector('.recommend_travel_intro h2').innerHTML = title[0].innerHTML;
            document.querySelector('.recommend_travel_intro h3').innerHTML = addr[0].innerHTML;
            document.querySelector('.recommend_travel_intro p').innerHTML = view[0].textContent;
            document.querySelector('.recommend_travel_box img').setAttribute('src',image[0].innerHTML);

        }
    };

    xhr.send('');
}
</script>
<script src="./index.js"></script>
</body>
</html>
